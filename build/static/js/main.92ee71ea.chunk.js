(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(67)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},52:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){e.exports=a.p+"static/media/landing_splash.559930d4.jpg"},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(25),s=a.n(c),i=a(7),l=(a(37),a(1)),u=a(2),m=a(4),d=a(3),h=a(5),p=a(13),f=(a(38),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",null,"\xa9 ",o.a.createElement("a",{href:"https://www.linkedin.com/in/ryuta-eguchi-47371982",target:"_blank",rel:"noopener noreferrer"},"Ryuta Eguchi 2019"))}}]),t}(o.a.Component)),b=(a(39),a(40),a(46),a(26)),j=a.n(b),_=a(27),E=a.n(_),k=o.a.createContext({projectList:[],error:null,setError:function(){},clearError:function(){},setProjectList:function(){}}),v=k,g=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={projectList:[],error:null},a.setProjectList=function(e){a.setState({projectList:e})},a.setError=function(e){console.error(e),a.setState({error:e})},a.clearError=function(){a.setState({error:null})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={projectList:this.state.projectList,error:this.state.error,setError:this.setError,clearError:this.clearError,setProjectList:this.setProjectList};return o.a.createElement(k.Provider,{value:e},this.props.children)}}]),t}(o.a.Component),O={API_ENDPOINT:"https://still-taiga-50148.herokuapp.com/api",API_LOCAL_ENDPOINT:"http://localhost:8000/api",TOKEN_KEY:"todueby-key",API_KEY:"6d976ce4-04c5-4a69-9a20-2bc83fae28bb"},y=a(28),N=a.n(y),T={saveAuthToken:function(e){window.sessionStorage.setItem(O.TOKEN_KEY,e)},getAuthToken:function(){return window.sessionStorage.getItem(O.TOKEN_KEY)},clearAuthToken:function(){console.info("clearing the auth token"),window.sessionStorage.removeItem(O.TOKEN_KEY)},hasAuthToken:function(){return!!T.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,":").concat(t))},parseJwt:function(e){return N()(e)},readJwtToken:function(){return T.parseJwt(T.getAuthToken())},_getMsUntilExpiry:function(e){return 1e3*e.exp-Date.now()},queueCallbackBeforeExpiry:function(e){var t=T._getMsUntilExpiry(T.readJwtToken());n=setTimeout(e,t-1e4)},clearCallbackBeforeExpiry:function(){clearTimeout(n)}},P=T,S=(a(52),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={projectList:[],error:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(O.API_ENDPOINT,"/projects/"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(t){console.log(t),e.setState({projectList:t})})}},{key:"renderProjectList",value:function(){return this.state.projectList.map(function(e){return o.a.createElement(i.b,{to:"/project/".concat(e.project_id)},o.a.createElement("div",{className:"menu_item"},e.name))})}},{key:"render",value:function(){return o.a.createElement("section",{className:"menu-content"},o.a.createElement("i",{className:"fas fa-clipboard-list"}),o.a.createElement("p",{className:"menu_section_header"},"ToDueBy"),o.a.createElement(i.b,{to:"/dashboard"},o.a.createElement("div",{className:"menu_item"},"Home")),o.a.createElement(i.b,{to:"/lists/myopentasks"},o.a.createElement("div",{className:"menu_item"},"My Tasks")),o.a.createElement("div",{className:"menu_section"},o.a.createElement("div",{className:"menu_section_header"},"Lists"),o.a.createElement(i.b,{to:"/lists/mycreatedtasks"},o.a.createElement("div",{className:"menu_item"},"Tasks I've Created")),o.a.createElement(i.b,{to:"/lists/mycompletedtasks"},o.a.createElement("div",{className:"menu_item"},"Tasks I've Completed"))),o.a.createElement("div",{className:"menu_section"},o.a.createElement("div",{className:"menu_section_header"},"Projects"),this.renderProjectList()))}}]),t}(o.a.Component));S.contextType=v;var C=o.a.createContext({userLoggedIn:null,error:null,setError:function(){},clearError:function(){},setUserLoggedInTrue:function(){},setUserLoggedInFalse:function(){}}),w=C,I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={userLoggedIn:!1,error:null},a.setError=function(e){console.error(e),a.setState({error:e})},a.clearError=function(){a.setState({error:null})},a.setUserLoggedInTrue=function(){a.setState({userLoggedIn:!0})},a.setUserLoggedInFalse=function(){a.setState({userLoggedIn:!1})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={userLoggedIn:this.state.userLoggedIn,error:this.state.error,setError:this.setError,clearError:this.clearError,setUserLoggedInTrue:this.setUserLoggedInTrue,setUserLoggedInFalse:this.setUserLoggedInFalse};return o.a.createElement(C.Provider,{value:e},this.props.children)}}]),t}(r.Component),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleLogoutClick=function(){P.clearAuthToken(),a.context.setUserLoggedInFalse()},a.state={menuOpen:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"openMenu",value:function(){this.setState({menuOpen:!0})}},{key:"closeMenu",value:function(){this.setState({menuOpen:!1})}},{key:"handleClick",value:function(){this.setState({menuOpen:!this.state.menuOpen})}},{key:"renderLogoutLinkAndMenuButton",value:function(){return o.a.createElement("li",{className:"header_link"},o.a.createElement(i.b,{onClick:this.handleLogoutClick,to:"/"},"Logout"),o.a.createElement(E.a,{isOpen:this.state.menuOpen,menuClicked:this.handleClick.bind(this),width:18,height:15,strokeWidth:1,rotate:0,color:"white",borderRadius:0,animationDuration:.5}),o.a.createElement(j.a,{isOpen:this.state.menuOpen,closeCallback:this.closeMenu.bind(this)},o.a.createElement(S,{closeCallback:this.closeMenu.bind(this)})))}},{key:"renderLoginLink",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"header_link"},o.a.createElement(i.b,{to:"/login"},"Login")),o.a.createElement("li",{className:"header_link"},o.a.createElement(i.b,{to:"/register"},"Register")))}},{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement(i.b,{to:"/dashboard"},o.a.createElement("p",{className:"title"},"ToDueBy")),o.a.createElement("div",{className:"navbar"},o.a.createElement("nav",{className:"navbar"},o.a.createElement("ul",null,o.a.createElement("li",{className:"header_link"},o.a.createElement(i.b,{to:"/dashboard"},"Home")),P.hasAuthToken()?this.renderLogoutLinkAndMenuButton():this.renderLoginLink()))))}}]),t}(o.a.Component);A.contextType=w;var L=a(16);function D(e){var t=e.component,a=Object(L.a)(e,["component"]),n=t;return o.a.createElement(p.b,Object.assign({},a,{render:function(e){return P.hasAuthToken()?o.a.createElement(n,e):o.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}a(55);var x=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.project;return o.a.createElement(i.b,{to:"/project/".concat(e.project_id)},o.a.createElement("div",{className:"ProjectListItem"},o.a.createElement("p",{className:"project_title"},e.name)))}}]),t}(o.a.Component),M=(a(56),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.context.clearError(),fetch("".concat(O.API_ENDPOINT,"/projects"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(this.context.setProjectList).catch(this.context.setError)}},{key:"renderProjects",value:function(){var e=this.context.projectList;return(void 0===e?[]:e).map(function(e){return o.a.createElement(x,{key:e.project_id,project:e})})}},{key:"render",value:function(){var e=this.context.error;return o.a.createElement("section",{className:"ProjectList"},e?o.a.createElement("p",{className:"red"},"There was an error, try again"):this.renderProjects())}}]),t}(o.a.Component));M.contextType=v;var B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={joinProjects:[],joinProjectSelected:null,error:null},a.handleJoinGroup=function(e){e.preventDefault();var t=e.target.project.value,n=a.state.joinProjects.filter(function(e){return e.name===t})[0].id;fetch("".concat(O.API_ENDPOINT,"/projects/join/").concat(n),{method:"POST",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(a.fetchProjectList).catch(function(e){return a.setState({error:e})})},a.fetchProjectList=function(){fetch("".concat(O.API_ENDPOINT,"/projects"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(a.context.setProjectList).catch(a.context.setError)},a.handleJoinProjectSelectChange=function(e){var t=e.target.value;a.setState({joinProjectSelected:t})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(O.API_ENDPOINT,"/projects/project/join"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(t){e.setState({joinProjects:t})}).catch(function(t){return e.setState({error:t})})}},{key:"render",value:function(){var e=this.state.joinProjectSelected;return o.a.createElement("div",{className:"home-page"},o.a.createElement("p",{className:"title"},"Home Page"),o.a.createElement("h3",null,"Projects"),o.a.createElement(M,null),o.a.createElement(i.b,{to:"/project-create",className:"project_create"},o.a.createElement("button",{className:"add_button"},"Create Project")),o.a.createElement("form",{onSubmit:this.handleJoinGroup,onChange:this.handleJoinProjectSelectChange},o.a.createElement("label",null,"Join Project"),o.a.createElement("select",{name:"project",list:"projects"},o.a.createElement("option",{key:"9999",value:""}),this.state.joinProjects.map(function(e){return o.a.createElement("option",{key:e.id,value:"".concat(e.name)},e.name)})),e&&o.a.createElement("button",{type:"submit"},"Join")))}}]),t}(o.a.Component);B.contextType=v;var U=a(15),z=a(31),F=o.a.createContext({project:[],tasks:[],members:[],setError:function(){},clearError:function(){},setProject:function(){},clearProject:function(){},setTasks:function(){},addTask:function(){},updateProject:function(){},setMembers:function(){}}),J=F,G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={project:[],tasks:[],members:[],error:null},a.setError=function(e){console.error(e),a.setState({error:e})},a.clearError=function(){a.setState({error:null})},a.setProject=function(e){a.setState({project:e})},a.setTasks=function(e){a.setState({tasks:e})},a.setMembers=function(e){a.setState({members:e})},a.clearProject=function(){a.setProject({}),a.setTasks([]),a.setMembers([])},a.addTask=function(e){a.setTasks([].concat(Object(z.a)(a.state.tasks),[e]))},a.updateProject=function(e){a.setState({project:e})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={project:this.state.project,tasks:this.state.tasks,members:this.state.members,error:this.state.error,setError:this.setError,clearError:this.clearError,setProject:this.setProject,setTasks:this.setTasks,clearProject:this.clearProject,addTask:this.addTask,updateProject:this.updateProject,setMembers:this.setMembers};return o.a.createElement(F.Provider,{value:e},this.props.children)}}]),t}(o.a.Component),q=(a(57),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.task;return o.a.createElement(i.b,{to:"/project/".concat(e.project_id,"/task/").concat(e.id)},o.a.createElement("div",{className:"TaskListItem"},e.name))}}]),t}(o.a.Component)),Y=(a(58),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"renderTasks",value:function(){return this.props.tasks.map(function(e){return o.a.createElement(q,{key:e.id,task:e})})}},{key:"render",value:function(){var e=this.context.error;return o.a.createElement("section",{className:"TaskList"},e?o.a.createElement("p",{className:"red"},"There was an error, try again"):this.renderTasks())}}]),t}(o.a.Component));Y.contextType=J;a(59);var K=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"renderMemberList",value:function(){}},{key:"render",value:function(){var e=this.context.members;return o.a.createElement("div",{className:"memberList"},o.a.createElement("p",{className:"sub_header"},"Project Members"),e.length&&e.map(function(e){return o.a.createElement("p",{className:"member_item",key:e.id},e.first_name," ",e.last_name)}))}}]),t}(o.a.Component);K.contextType=J;a(60);var R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={project_id:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(e.match.params.project_id!==this.props.match.params.project_id){var a=this.props.match.params.project_id;this.context.clearError(),Promise.all([fetch("".concat(O.API_ENDPOINT,"/projects/").concat(a),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}),fetch("".concat(O.API_ENDPOINT,"/projects/").concat(a,"/tasks"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}),fetch("".concat(O.API_ENDPOINT,"/projects/").concat(a,"/members"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}})]).then(function(e){var t=Object(U.a)(e,3),a=t[0],n=t[1],r=t[2];return Promise.all([a.json(),n.json(),r.json()])}).then(function(e){var a=Object(U.a)(e,3),n=a[0],r=a[1],o=a[2];t.context.setProject(n),t.context.setTasks(r),t.context.setMembers(o)}).catch(this.context.setError)}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.project_id;this.context.clearError(),Promise.all([fetch("".concat(O.API_ENDPOINT,"/projects/").concat(t),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}),fetch("".concat(O.API_ENDPOINT,"/projects/").concat(t,"/tasks"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}),fetch("".concat(O.API_ENDPOINT,"/projects/").concat(t,"/members"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}})]).then(function(e){var t=Object(U.a)(e,3),a=t[0],n=t[1],r=t[2];return Promise.all([a.json(),n.json(),r.json()])}).then(function(t){var a=Object(U.a)(t,3),n=a[0],r=a[1],o=a[2];e.context.setProject(n),e.context.setTasks(r),e.context.setMembers(o)}).catch(this.context.setError)}},{key:"render",value:function(){var e=this,t=this.context.tasks.filter(function(e){return null==e.completed_by});return o.a.createElement("div",null,o.a.createElement("p",{className:"page_header"},this.context.project.name),o.a.createElement("p",{className:"page_description"},"Description: ",this.context.project.description),o.a.createElement(i.b,{to:"/project/".concat(this.props.match.params.project_id,"/edit")},o.a.createElement("button",{className:"edit_button"},"Edit Project")),o.a.createElement(i.b,{to:"/project/".concat(this.props.match.params.project_id,"/create-task")},o.a.createElement("button",{className:"add_button"},"Add Task")),o.a.createElement("p",{className:"sub_header"},"Open Tasks"),o.a.createElement(Y,{tasks:t}),o.a.createElement(K,null),o.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"back_button"},"Back"))}}]),t}(o.a.Component);R.contextType=J;var H=a(21),W=a(22),$=a.n(W),Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t,n=e.target,r=n.value,o=n.name;a.setState((t={},Object(H.a)(t,o,r),Object(H.a)(t,"formUpdated",!0),t))},a.handleChangeMember=function(e){var t=e.target.value,n=a.context.members.filter(function(e){return t==="".concat(e.first_name," ").concat(e.last_name)})[0],r=n.id,o=n.first_name,c=n.last_name;a.setState({assignedTo:t,assigned_to_id:r,assigned_to_first_name:o,assigned_to_last_name:c,formUpdated:!0})},a.handleSave=function(e){e.preventDefault();var t=a.state,n=t.task_name,r=t.task_description,o=t.task_due_date,c=t.assigned_to_id;fetch("".concat(O.API_ENDPOINT,"/tasks/").concat(a.props.match.params.task_id),{method:"PATCH",headers:{"content-type":"application/json",authorization:"bearer ".concat(P.getAuthToken())},body:JSON.stringify({name:n,description:r,due_date:o,assigned_to:c})}).then(a.fetchTasks).then(a.setState({formSaved:!0}))},a.fetchTasks=function(){fetch("".concat(O.API_ENDPOINT,"/projects/").concat(a.props.match.params.project_id,"/tasks"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.json()}).then(function(e){a.context.setTasks(e)})},a.handleCompleteTask=function(e){e.preventDefault(),fetch("".concat(O.API_ENDPOINT,"/tasks/").concat(a.props.match.params.task_id,"/complete"),{method:"POST",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(a.fetchTasks).then(a.props.history.goBack())},a.state={error:null,task_name:"",task_description:"",task_id:null,task_due_date:"",project_id:null,created_by_id:null,created_first_name:"",created_last_name:"",assigned_to_id:null,assigned_to_first_name:null,assigned_to_last_name:null,date_completed:null,completed_by_id:null,completed_by_first_name:null,completed_by_last_name:null,formSaved:!1,formUpdated:!1,assignedTo:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({error:"null"});var t=this.props.match.params.task_id;fetch("".concat(O.API_ENDPOINT,"/tasks/").concat(t),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(t){var a=t.task_name,n=t.task_description,r=t.task_id,o=t.task_due_date,c=t.project_id,s=t.created_by_id,i=t.created_first_name,l=t.created_last_name,u=t.assigned_to_id,m=t.assigned_to_first_name,d=t.assigned_to_last_name,h=t.date_completed,p=t.completed_by_id,f=t.completed_by_first_name,b=t.completed_by_last_name;e.setState({task_name:a,task_description:n,task_id:r,task_due_date:o,project_id:c,created_by_id:s,created_first_name:i,created_last_name:l,assigned_to_id:u,assigned_to_first_name:m,assigned_to_last_name:d,date_completed:h,completed_by_id:p,completed_by_first_name:f,completed_by_last_name:b,assignedTo:"".concat(m," ").concat(d)})}).catch(this.setState({error:"Something went wrong"}))}},{key:"renderComplete",value:function(){var e=this.state,t=e.date_completed,a=(e.completed_by_id,e.completed_by_first_name),n=e.completed_by_last_name;return o.a.createElement("div",{className:"completed_details"},o.a.createElement("p",null,a," ",n," completed this task on ",$()(t).format("MMMM Do YYYY")))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.task,t.task_name),n=(t.task_description,t.task_id,t.task_due_date),r=(t.project_id,t.created_by_id,t.created_first_name),c=t.created_last_name,s=(t.assigned_to_id,t.assigned_to_first_name,t.assigned_to_last_name,t.date_completed,t.completed_by_id),i=(t.completed_by_first_name,t.completed_by_last_name,t.formUpdated),l=t.assignedTo,u=t.formSaved;return o.a.createElement("section",{className:"task-page"},o.a.createElement("form",{className:"task_form",onSubmit:this.handleSave},o.a.createElement("p",{className:"sub_header"},"Task:"),o.a.createElement("input",{type:"text",name:"task_name",id:"task_name",value:a,placeholder:"Task",required:!0,onChange:this.handleInputChange}),o.a.createElement("p",null,"Created by: ",r," ",c),o.a.createElement("label",null,"Assigned To",o.a.createElement("select",{name:"assigned_to",value:l,onChange:this.handleChangeMember},o.a.createElement("option",{value:null}),this.context.members.map(function(e){return o.a.createElement("option",{key:e.id,value:"".concat(e.first_name," ").concat(e.last_name)},e.first_name," ",e.last_name)}))),o.a.createElement("label",null,"Due Date",o.a.createElement("input",{name:"task_due_date",type:"date",id:"task_due_date",value:$()(n).format("YYYY-MM-DD"),placeholder:"Set Due Date",onChange:this.handleInputChange})),i&&o.a.createElement("button",{type:"submit"},"Save")),u&&o.a.createElement("p",{className:"saved_message"},"Task saved"),s&&this.renderComplete(),!s&&o.a.createElement("button",{className:"add_button",onClick:this.handleCompleteTask},"Complete Task"),o.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"back_button"},"Back"))}}]),t}(o.a.Component);Z.contextType=J;a(62);var Q=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"side-menu"},o.a.createElement(S,null))}}]),t}(o.a.Component),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleCreateTask=function(e){e.preventDefault();var t=e.target,n=t.new_task_name,r=(t.new_task_description,t.new_task_due_date),o=(t.new_task_assigned_to,a.props.match.params.project_id);fetch("".concat(O.API_ENDPOINT,"/tasks"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(P.getAuthToken())},body:JSON.stringify({project_id:o,name:n.value,due_date:r.value,assigned_to:a.state.assignedTo_id})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(a.context.addTask).then(function(e){return a.props.history.goBack(),e}).catch(a.context.setError)},a.handleChangeMember=function(e){var t=e.target.value,n=a.context.members.filter(function(e){return t==="".concat(e.first_name," ").concat(e.last_name)})[0].id;a.setState({assignedTo:t,assignedTo_id:n})},a.state={assignedTo:"",assignedTo_id:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.assignedTo;return o.a.createElement("section",{className:"create-task"},o.a.createElement("p",{className:"page_header"},"Create Task"),o.a.createElement("form",{className:"task_form",onSubmit:this.handleCreateTask},o.a.createElement("label",null,"Task Name:",o.a.createElement("input",{type:"text",id:"new_task_name",name:"new_task_name",placeholder:"Name",required:!0})),o.a.createElement("label",null,"Due Date:",o.a.createElement("input",{type:"date",id:"new_task_due_date",name:"new_task_due_date",placeholder:"Due Date"})),o.a.createElement("label",null,"Assigned To:",o.a.createElement("select",{id:"new_task_assigned_to",name:"new_task_assigned_to",value:t,onChange:this.handleChangeMember},o.a.createElement("option",{value:null}),this.context.members.map(function(e){return o.a.createElement("option",{key:e.id,value:"".concat(e.first_name," ").concat(e.last_name)},e.first_name," ",e.last_name)}))),o.a.createElement("div",{className:"buttons_container"},o.a.createElement("button",{type:"submit",className:"add_button"},"Add Task"),o.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"back_button"},"Back"))))}}]),t}(o.a.Component);V.contextType=J;var X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,errorProjectName:null},a.handleSubmitCreateProject=function(e){e.preventDefault();var t=e.target,n=t.project_name,r=t.project_description;fetch("".concat(O.API_ENDPOINT,"/projects"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(P.getAuthToken())},body:JSON.stringify({name:n.value,description:r.value})}).then(function(e){if(!e.ok)return e.status(400).setState({error:e.message});a.props.history.goBack()})},a.refreshError=function(){a.setState({error:null,errorProjectName:null})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"create_project_form",onSubmit:this.handleSubmitCreateProject},o.a.createElement("label",null,"Project Name",o.a.createElement("input",{type:"text",name:"project_name",id:"project_name",onFocus:this.refreshError,placeholder:"Project Name",required:!0})),this.state.errorProjectName&&o.a.createElement("p",{className:"form_error"},this.state.errorProjectName),o.a.createElement("label",null,"Description",o.a.createElement("input",{type:"text",name:"project_description",id:"project_description",placeholder:"Description",required:!0})),o.a.createElement("button",{type:"submit",className:"submit_button"},"Submit"))}}]),t}(o.a.Component),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleUpdateProject=function(e){e.preventDefault();var t=a.props.match.params.project_id,n=a.state,r=n.name,o=n.description;fetch("".concat(O.API_ENDPOINT,"/projects/").concat(t),{method:"PATCH",headers:{"content-type":"application/json",authorization:"bearer ".concat(P.getAuthToken())},body:JSON.stringify({name:r,description:o})}).then(function(){a.context.updateProject({name:r,description:o})})},a.handleChangeName=function(e){a.setState({name:e})},a.handleChangeDescription=function(e){a.setState({description:e})},a.state={name:"",description:"",error:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.project_id;fetch("".concat(O.API_ENDPOINT,"/projects/").concat(t),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(t){e.setState({name:t.name,description:t.description})}).catch(function(t){e.setState({error:"Something went wrong"})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.description;return o.a.createElement("div",{className:"update-project"},o.a.createElement("h1",null,"Update Project"),o.a.createElement("form",{onSubmit:this.handleUpdateProject},o.a.createElement("label",null,"Project Name",o.a.createElement("input",{id:"name",name:"name",placeholder:"Project Name",value:a,required:!0,onChange:function(t){return e.handleChangeName(t.target.value)}})),o.a.createElement("label",null,"Description",o.a.createElement("input",{id:"description",name:"description",placeholder:"Description",value:n,required:!0,onChange:function(t){return e.handleChangeDescription(t.target.value)}})),o.a.createElement("div",{className:"buttons_container"},o.a.createElement("button",{type:"submit",className:"edit_button"},"Update"),o.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"back_button"},"Back"))))}}]),t}(o.a.Component);ee.contextType=J;var te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={myOpenTasks:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(O.API_ENDPOINT,"/users/myopentasks"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(t){console.log(t),e.setState({myOpenTasks:t})})}},{key:"render",value:function(){var e=this,t=this.state.myOpenTasks;return o.a.createElement("div",{className:"tasklist"},o.a.createElement("p",{className:"page_header"},"My Open Tasks"),o.a.createElement(Y,{tasks:t}),o.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"back_button"},"Back"))}}]),t}(o.a.Component),ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={myCreatedTasks:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(O.API_ENDPOINT,"/users/mycreatedtasks"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(t){console.log(t),e.setState({myCreatedTasks:t})})}},{key:"render",value:function(){var e=this,t=this.state.myCreatedTasks;return o.a.createElement("div",{className:"tasklist"},o.a.createElement("p",{className:"page_header"},"My Created Tasks"),o.a.createElement(Y,{tasks:t}),o.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"back_button"},"Back"))}}]),t}(o.a.Component),ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={myCompletedTasks:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(O.API_ENDPOINT,"/users/mycompletedtasks"),{method:"GET",headers:{authorization:"bearer ".concat(P.getAuthToken())}}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(t){console.log(t),e.setState({myCompletedTasks:t})})}},{key:"render",value:function(){var e=this,t=this.state.myCompletedTasks;return o.a.createElement("div",{className:"tasklist"},o.a.createElement("p",{className:"page_header"},"My Completed Tasks"),o.a.createElement(Y,{tasks:t}),o.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"back_button"},"Back"))}}]),t}(o.a.Component);a.e(3).then(a.t.bind(null,68,7));var re=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement(Q,null),o.a.createElement("div",{className:"main-content"},o.a.createElement(p.d,null,o.a.createElement(p.b,{path:"/dashboard",component:B}),o.a.createElement(p.b,{exact:!0,path:"/project-create",component:X}),o.a.createElement(p.b,{exact:!0,path:"/project/:project_id/",component:R}),o.a.createElement(p.b,{path:"/project/:project_id/edit",component:ee}),o.a.createElement(p.b,{path:"/project/:project_id/task/:task_id",component:Z}),o.a.createElement(p.b,{path:"/project/:project_id/create-task",component:V}),o.a.createElement(p.b,{path:"/lists/myopentasks",component:te}),o.a.createElement(p.b,{path:"/lists/mycreatedtasks",component:ae}),o.a.createElement(p.b,{path:"/lists/mycompletedtasks",component:ne}))))}}]),t}(o.a.Component),oe=(a(63),a(64),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"landing_page"},o.a.createElement("div",{className:"landing_page_text"},o.a.createElement("p",{className:"page_header"},"Manage your team's projects and tasks"),o.a.createElement("p",{className:"sub_header"},o.a.createElement(i.b,{to:"/register"},o.a.createElement("span",{className:"langing_page_links"},"Register a user"))," and",o.a.createElement(i.b,{to:"/login"},o.a.createElement("span",{className:"langing_page_links"}," login")))))}}]),t}(o.a.Component)),ce=(a(65),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,errorPassword:null,errorFirstName:null,errorLastName:null,errorEmail:null},a.validatePassword=function(e){a.setState({errorPassword:null});var t=!0;return e||(a.setState({errorPassword:"Password is required"}),t=!1),e.length<8&&(a.setState({errorPassword:"Password needs to be at least 8 characters"}),t=!1),e.length>72&&(a.setState({errorPassword:"Password needs to be less than 72 characters"}),t=!1),(e.startsWith(" ")||e.endsWith(" "))&&(a.setState({errorPassword:"Password must not start or end with empty spaces"}),t=!1),/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&])[\S]+/.test(e)||(a.setState({errorPassword:"Password must contain one upper case, lower case, number and special character"}),t=!1),t},a.validateFirstName=function(e){var t=!0;return e||(a.setState({errorFirstName:"First Name is required"}),t=!1),t},a.validateLastName=function(e){var t=!0;return e||(a.setState({errorLastName:"Last Name is required"}),t=!1),t},a.validateEmail=function(e){var t=!0;return e||(a.setState({errorEmail:"Email is required"}),t=!1),t},a.validateConfirmPassword=function(e,t){var n=!0;return e!==t&&(a.setState({errorPassword:"Confirm Password does not match Password"}),n=!1),n},a.refreshError=function(){a.setState({error:null,errorPassword:null,errorFirstName:null,errorLastName:null,errorEmail:null})},a.handleSubmit=function(e){e.preventDefault();var t=e.target,n=t.firstName,r=t.lastName,o=t.email,c=t.password,s=t.confirmPassword;a.validateFirstName(n.value)&&a.validateLastName(r.value)&&a.validateEmail(o.value)&&a.validatePassword(c.value)&&a.validateConfirmPassword(c.value,s.value)&&(a.setState({error:null}),fetch("".concat(O.API_ENDPOINT,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({first_name:n.value,last_name:r.value,email:o.value,password:c.value})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){n.value="",r.value="",o.value="",c.value="",s.value="",a.props.history.push("/login")}).catch(function(e){a.setState({error:e.error})}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{type:"text",name:"firstName",id:"firstName",onFocus:this.refreshError,placeholder:"First Name",required:!0}),this.state.errorFirst&&o.a.createElement("p",{className:"form-error"},this.state.errorFirst),o.a.createElement("input",{type:"text",name:"lastName",id:"lastName",onFocus:this.refreshError,placeholder:"Last Name",required:!0}),this.state.errorLastName&&o.a.createElement("p",{className:"form-error"},this.state.errorLastName),o.a.createElement("input",{type:"email",name:"email",id:"email",onFocus:this.refreshError,placeholder:"Email",required:!0}),this.state.errorEmail&&o.a.createElement("p",{className:"form-error"},this.state.errorEmail),o.a.createElement("input",{type:"password",name:"password",id:"password",onFocus:this.refreshError,placeholder:"Password"}),this.state.errorPassword&&o.a.createElement("p",{className:"form-error"},this.state.errorPassword),o.a.createElement("input",{type:"password",name:"confirmPassword",id:"confirmPassword",onFocus:this.refreshError,placeholder:"Confirm Password"}),o.a.createElement("button",{className:"add_button",type:"submit"},"Register"))}}]),t}(o.a.Component)),se=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Register Page"),o.a.createElement(ce,null))}}]),t}(o.a.Component),ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},a.handleLogin=function(e){e.preventDefault(),a.setState({error:null});var t=e.target,n=t.email,r=t.password;fetch("".concat(O.API_ENDPOINT,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:n.value,password:r.value})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){return P.saveAuthToken(e.authToken),e}).then(function(e){n.value="",r.value="",a.context.setUserLoggedInTrue(),a.props.onLoginSuccess()}).catch(function(e){a.setState({error:e.error})})},a.demoUserLogin=function(){fetch("".concat(O.API_ENDPOINT,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:"test2@test.com",password:"P@ssw0rd"})}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){return P.saveAuthToken(e.authToken),e}).then(function(e){a.context.setUserLoggedInTrue(),a.props.onLoginSuccess()}).catch(function(e){a.setState({error:e.error})})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.error;return o.a.createElement("form",{onSubmit:this.handleLogin},o.a.createElement("div",{role:"alert"},e&&o.a.createElement("p",{className:"red"},e)),o.a.createElement("input",{type:"text",name:"email",id:"email",placeholder:"Email"}),o.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password"}),o.a.createElement("button",{className:"add_button",type:"submit"},"Login"),o.a.createElement("button",{className:"add_button",onClick:this.demoUserLogin},"Demo User"))}}]),t}(o.a.Component);ie.contextType=w,ie.defaultProps={onLoginSuccess:function(){}};var le=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleLoginSuccess=function(){var e=a.props,t=e.location,n=e.history,r=(t.state||{}).from||"/dashboard";n.push(r)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"LoginPage"},o.a.createElement("h1",null,"Login Page"),o.a.createElement(ie,{onLoginSuccess:this.handleLoginSuccess}))}}]),t}(o.a.Component);le.defaultProps={location:{},history:{push:function(){}}};var ue=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(p.d,null,o.a.createElement(p.b,{exact:!0,path:"/",component:oe}),o.a.createElement(p.b,{path:"/login",component:le}),o.a.createElement(p.b,{path:"/register",component:se})))}}]),t}(o.a.Component);function me(e){var t=e.component,a=Object(L.a)(e,["component"]),n=t;return o.a.createElement(p.b,Object.assign({},a,{render:function(e){return P.hasAuthToken()?o.a.createElement(p.a,{to:"/dashboard"}):o.a.createElement(n,e)}}))}var de=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"hideSideMenu",value:function(){return["/login","/register","/"].includes(window.location.pathname)}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(A,null),o.a.createElement(p.d,null,o.a.createElement(D,{path:"/dashboard",component:re}),o.a.createElement(D,{path:"/project",component:re}),o.a.createElement(D,{path:"/project-create",component:re}),o.a.createElement(D,{path:"/lists",component:re}),o.a.createElement(me,{path:"/login",component:ue}),o.a.createElement(me,{path:"/register",component:ue}),o.a.createElement(me,{exact:!0,path:"/",component:ue})),o.a.createElement(f,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(66);s.a.render(o.a.createElement(i.a,null,o.a.createElement(I,null,o.a.createElement(g,null,o.a.createElement(G,null,o.a.createElement(de,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.92ee71ea.chunk.js.map